"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(T,b,c)=>{c.r(b),c.d(b,{LoginPageModule:()=>L});var k=c(177),a=c(9417),g=c(4742),_=c(6822),h=c(467),n=c(4438),U=c(4796),D=c(8281),I=c(369),S=c(5683);const j=o=>({"right-panel-active":o}),F=[{path:"",component:(()=>{var o;class u{constructor(t,e,i,s,r,d,v,M){this.formbld=t,this.loadingController=e,this.alertController=i,this.authService=s,this.all=r,this.storage=d,this.functionsService=v,this.router=M,this.sizeDiv=!1}get email(){return this.credentials.get("email")}get password(){return this.credentials.get("password")}ngOnInit(){this.functionsService.getData("usersData").subscribe(t=>{this.usersData=t}),this.credentials=this.formbld.group({name:["",[a.k0.required,a.k0.minLength(3)]],email:["",[a.k0.required,a.k0.email]],password:["",[a.k0.required,a.k0.minLength(6)]]})}register(){var t=this;return(0,h.A)(function*(){if(""==t.credentials.value.name)return t.showAlert("Registration Faild","Please Enter Usre Name!"),!1;{for(let s=0;s<t.usersData.NamesEmails.length;s++)if(t.usersData.NamesEmails[s].Email==t.credentials.value.email)return t.showAlert("Registration Faild","this email address already exist!"),!1;const e=yield t.loadingController.create({message:"Please wait..."});yield e.present();const i=yield t.authService.register(t.credentials.value);yield e.dismiss(),i?(t.getNow(),t.functionsService.addUserData(i.user.uid,{Adress:"",email:t.credentials.value.email,favorite:[],image:"",lastVisit:t.date,notifications:[],opened:[],phone:"",status:"User",userName:t.credentials.value.name}),t.usersData.NamesEmails.push({Name:t.credentials.value.name,Email:t.credentials.value.email,ID:i.user.uid}),t.all.storageUserInfo={userName:t.credentials.value.name,email:t.credentials.value.email,uid:i.user.uid,status:"User"},t.storage.set("USER_Info",t.all.storageUserInfo),t.all.storageUserData={email:t.credentials.value.email,myFavorite:[],uid:i.user.uid,image:"",myNotifications:[],myOpened:[],status:"User",userName:t.credentials.value.name,favCount:0},t.storage.set("USER_Data",t.all.storageUserData),t.functionsService.createUsersData(t.usersData.NamesEmails),t.router.navigateByUrl("",{replaceUrl:!0}),t.all.login=!0):t.showAlert("Registration Faild","Please try again!")}})()}login(){var t=this;return(0,h.A)(function*(){if(t.credentials.value.name="",""===t.credentials.value.email)return t.showAlert("Login Faild","Please Enter User Name!"),!1;if(""===t.credentials.value.password)return t.showAlert("Login Faild","Please Enter Password!"),!1;const e=yield t.loadingController.create({message:"Please wait..."});yield e.present();const i=yield t.authService.login(t.credentials.value);let s;if(i){let r;t.all.login=!0,s=i.user.uid,t.functionsService.getUserData(s).subscribe(d=>{r=d,t.all.storageUserInfo={userName:d.userName,email:i.user.email,uid:i.user.uid,status:r.status},t.storage.set("USER_Info",t.all.storageUserInfo);let v=r.email,M=r.favorite,E=r.id,z=r.image,A=r.lastVisit,R=r.notifications,G=r.opened,y=r.status,X=r.userName,$=r.favorite.length;t.getNow(),t.date!==A&&t.lastVisit(s),("Super Admin"===y||"Admin"===y)&&t.functionsService.getData("usersData").subscribe(x=>{let p=[],f=[],O=x;if(t.all.coInfo=O.coInfo,f=O.NamesEmails,0!==f.length){for(let P=0;P<f.length;P++)t.functionsService.getUserData(f[P].ID).subscribe(C=>{p.push(C)});t.all.allUsers=p,t.storage.set("AllUsers",t.all.allUsers)}}),t.all.storageUserData={email:v,myFavorite:M,uid:E,image:z,myNotifications:R,myOpened:G,status:y,userName:X,favCount:$},t.storage.set("USER_Data",t.all.storageUserData),t.functionsService.getData("products").subscribe(x=>{let f=x.favorite,O=x.products,P=x.opened,C=[];for(const l of O){let w=!1;for(const B of M)l.id==B&&(w=!0);C.push({category:l.category,coverImg:l.coverImg,description:l.description,faved:w,created:l.created,favority:l.faved,id:l.id,price:l.price,name:l.name,productsImg:l.productsImg,tags:l.tags,videoImg:l.videoImg,opened:l.opened})}t.all.myProducts=C,t.all.storageProductsData={myProducts:C,favority:f,openCount:P},t.storage.set("products",t.all.storageProductsData),t.all.loaded=!0}),t.router.navigateByUrl("",{replaceUrl:!0})}),t.functionsService.getData("usersData").subscribe(d=>{t.all.coInfo=d.coInfo,t.storage.set("CoInfo",t.all.coInfo)}),yield e.dismiss()}else yield e.dismiss(),t.showAlert("Login Faild","Please try again!");return i})()}restPassword(){var t=this;return(0,h.A)(function*(){t.authService.restPassword(t.email.value)})()}showAlert(t,e){var i=this;return(0,h.A)(function*(){yield(yield i.alertController.create({header:t,message:e,buttons:["OK"]})).present()})()}removeSignButton(){this.all.sizeDiv=!this.all.sizeDiv}getNow(){const t=new Date;t.setDate(t.getDate());const e=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");String(t.getHours()).padStart(2,"0"),String(t.getMinutes()).padStart(2,"0"),this.date=`${e}-${i}-${s}`}lastVisit(t){var e=this;return(0,h.A)(function*(){yield e.getNow(),e.functionsService.updateUserLastVisit(t,e.date)})()}}return(o=u).\u0275fac=function(t){return new(t||o)(n.rXU(a.ok),n.rXU(g.Xi),n.rXU(g.hG),n.rXU(U.u),n.rXU(D.z),n.rXU(I.w),n.rXU(S.b),n.rXU(_.Ix))},o.\u0275cmp=n.VBU({type:o,selectors:[["app-login"]],decls:69,vars:6,consts:[[3,"fullscreen"],[1,"container",3,"ngClass"],[1,"form-container","sign-up-container"],[3,"formGroup"],[1,"inputs"],["lines","none"],["size","2",1,"ion-text-right"],["name","person-outline"],["size","1"],[1,"line"],["size","9"],["required","","formControlName","name","type","text","placeholder","User Name"],["name","mail-outline",1,"user-icon"],["required","","formControlName","email","type","email","placeholder","Email"],["name","lock-closed-outline",1,"user-icon"],["required","","formControlName","password","type","password","placeholder","Password"],["type","button",3,"click"],[1,"form-container","sign-in-container"],["formControlName","email","type","email","placeholder","Email"],["formControlName","password","type","password","placeholder","Password"],[1,"rst-pass","ion-text-right",3,"click"],["type","submit",3,"click"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel","overlay-left"],["fill","outline","color","light","id","signIn",1,"ghost",3,"click"],[1,"overlay-panel","overlay-right"]],template:function(t,e){1&t&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"ion-item",5)(6,"ion-row")(7,"ion-col",6),n.nrm(8,"ion-icon",7),n.k0s(),n.j41(9,"ion-col",8),n.nrm(10,"div",9),n.k0s(),n.j41(11,"ion-col",10),n.nrm(12,"ion-input",11),n.k0s()()(),n.j41(13,"ion-item",5)(14,"ion-row")(15,"ion-col",6),n.nrm(16,"ion-icon",12),n.k0s(),n.j41(17,"ion-col",8),n.nrm(18,"div",9),n.k0s(),n.j41(19,"ion-col",10),n.nrm(20,"ion-input",13),n.k0s()()(),n.j41(21,"ion-item",5)(22,"ion-row")(23,"ion-col",6),n.nrm(24,"ion-icon",14),n.k0s(),n.j41(25,"ion-col",8),n.nrm(26,"div",9),n.k0s(),n.j41(27,"ion-col",10),n.nrm(28,"ion-input",15),n.k0s()()(),n.j41(29,"ion-button",16),n.bIt("click",function(){return e.register()}),n.EFF(30," Sign Up "),n.k0s()()()(),n.j41(31,"div",17)(32,"form",3)(33,"div",4)(34,"ion-item",5)(35,"ion-col",6),n.nrm(36,"ion-icon",12),n.k0s(),n.j41(37,"ion-col",8),n.nrm(38,"div",9),n.k0s(),n.j41(39,"ion-col",10),n.nrm(40,"ion-input",18),n.k0s()(),n.j41(41,"ion-item",5)(42,"ion-col",6),n.nrm(43,"ion-icon",14),n.k0s(),n.j41(44,"ion-col",8),n.nrm(45,"div",9),n.k0s(),n.j41(46,"ion-col",10),n.nrm(47,"ion-input",19),n.k0s()(),n.j41(48,"div",20),n.bIt("click",function(){return e.restPassword()}),n.j41(49,"a"),n.EFF(50,"Reset Password"),n.k0s()(),n.j41(51,"ion-button",21),n.bIt("click",function(){return e.login()}),n.EFF(52," Login "),n.k0s()()()(),n.j41(53,"div",22)(54,"div",23)(55,"div",24)(56,"h1"),n.EFF(57,"Welcome Back"),n.k0s(),n.j41(58,"p"),n.EFF(59," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Nisi, assumenda. "),n.k0s(),n.j41(60,"ion-button",25),n.bIt("click",function(){return e.removeSignButton()}),n.EFF(61," Sign In "),n.k0s()(),n.j41(62,"div",26)(63,"h1"),n.EFF(64,"Hello, Friend!"),n.k0s(),n.j41(65,"p"),n.EFF(66," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Nisi, assumenda. "),n.k0s(),n.j41(67,"ion-button",25),n.bIt("click",function(){return e.removeSignButton()}),n.EFF(68," Sign Up "),n.k0s()()()()()()),2&t&&(n.Y8G("fullscreen",!0),n.R7$(),n.Y8G("ngClass",n.eq3(4,j,!0===e.all.sizeDiv)),n.R7$(2),n.Y8G("formGroup",e.credentials),n.R7$(29),n.Y8G("formGroup",e.credentials))},dependencies:[k.YU,a.qT,a.BC,a.cb,a.YS,g.Jm,g.hU,g.W9,g.iq,g.$w,g.uz,g.ln,g.Gw,a.j4,a.JD],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;background:#f6f5f7;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;margin:-20px 0 50px}h1[_ngcontent-%COMP%]{font-weight:700;margin:0}p[_ngcontent-%COMP%]{font-size:14px;font-weight:100;line-height:20px;letter-spacing:.5px;margin:20px 0 30px}span[_ngcontent-%COMP%]{font-size:12px}a[_ngcontent-%COMP%]{color:#333;font-size:14px;text-decoration:none;margin:15px 0}.line[_ngcontent-%COMP%]{width:1px;background-color:#333;height:25px;margin-top:10px}.container[_ngcontent-%COMP%]{background:#fff;border:10px;border-radius:20px;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038;position:relative;overflow:hidden;width:768px;max-width:100%;min-height:480px;margin:auto;margin-top:10vh}.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:1;opacity:0}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background:#fff;display:flex;flex-direction:column;padding:0 50px;height:100%;justify-content:center;align-items:center;text-align:center}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{height:230px;width:110%}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:15px}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background-color:#e8f1ff;padding:0 10px!important;border-radius:5px}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:250px;--border-radius: 50px;--background: var(--primary-shade);color:#fff;margin-top:50px}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background:#fff;display:flex;flex-direction:column;padding:0 50px;height:100%;justify-content:center;align-items:center;text-align:center}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{height:230px;width:110%}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:5px}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin-top:3px}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background-color:#e8f1ff;padding:0 10px!important;border-radius:5px}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .rst-pass[_ngcontent-%COMP%]{margin-top:0;margin-bottom:85px;margin-right:21px;font-size:10px}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .rst-pass[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px;color:#00378a}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:250px;--border-radius: 50px;--background: var(--primary-shade);color:#fff}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:transform .6s ease-in-out}.overlay-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background:#ff416c;background:linear-gradient(to right,var(--primary-shade),var(--primary)) no-repeat 0 0/cover;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:transform .6s ease-in-out}.overlay-panel[_ngcontent-%COMP%]{position:absolute;top:0;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0 40px;height:100%;width:50%;text-align:center;transform:translate(0);transition:transform .6s ease-in-out}.overlay-panel[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:250px;--border-radius: 50px;--background: var(--primary-shade);color:#fff}.overlay-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.overlay-left[_ngcontent-%COMP%]{transform:translate(-20%)}.container.right-panel-active[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]{transform:translate(100%)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{transform:translate(-100%)}.container.right-panel-active[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5}.container.right-panel-active[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{transform:translate(50%)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-left[_ngcontent-%COMP%]{transform:translate(0)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-right[_ngcontent-%COMP%]{transform:translate(20%)}"]}),u})()}];let N=(()=>{var o;class u{}return(o=u).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[_.iI.forChild(F),_.iI]}),u})(),L=(()=>{var o;class u{}return(o=u).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[k.MD,a.YN,g.bv,a.X1,N]}),u})()}}]);