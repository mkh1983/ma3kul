"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(Y,k,g)=>{g.r(k),g.d(k,{LoginPageModule:()=>z});var w=g(177),r=g(9417),l=g(4742),O=g(6822),p=g(467),n=g(4438),U=g(4796),j=g(8281),E=g(369),I=g(5683);const F=i=>({"right-panel-active":i});function N(i,u){if(1&i){const d=n.RV6();n.j41(0,"ion-content")(1,"ion-toolbar")(2,"ion-row",28)(3,"ion-col",10)(4,"ion-title"),n.EFF(5,"Reset Password"),n.k0s()(),n.j41(6,"ion-col",29)(7,"ion-button",30),n.bIt("click",function(){n.eBV(d);const e=n.XpG();return n.Njj(e.isModalOpen=!1)}),n.nrm(8,"ion-icon",31),n.k0s()()()(),n.j41(9,"ion-input",32),n.mxI("ngModelChange",function(e){n.eBV(d);const o=n.XpG();return n.DH7(o.myEmail,e)||(o.myEmail=e),n.Njj(e)}),n.k0s(),n.j41(10,"ion-button",33),n.bIt("click",function(){n.eBV(d);const e=n.XpG();return n.Njj(e.restPassword())}),n.EFF(11," Reset Password "),n.k0s()()}if(2&i){const d=n.XpG();n.R7$(9),n.R50("ngModel",d.myEmail)}}const S=[{path:"",component:(()=>{var i;class u{constructor(t,e,o,a,s,m,h,M,y){this.formbld=t,this.loadingController=e,this.toastCtrl=o,this.alertController=a,this.authService=s,this.all=m,this.storage=h,this.functionsService=M,this.router=y,this.sizeDiv=!1,this.isModalOpen=!1}get email(){return this.credentials.get("email")}get password(){return this.credentials.get("password")}ngOnInit(){this.functionsService.getData("usersData").subscribe(t=>{this.usersData=t}),this.credentials=this.formbld.group({name:["",[r.k0.required,r.k0.minLength(3)]],email:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required,r.k0.minLength(6)]]})}register(){var t=this;return(0,p.A)(function*(){if(""==t.credentials.value.name)return t.showAlert("Registration Faild","Please Enter Usre Name!"),!1;{for(let a=0;a<t.usersData.NamesEmails.length;a++)if(t.usersData.NamesEmails[a].Email==t.credentials.value.email)return t.showAlert("Registration Faild","this email address already exist!"),!1;const e=yield t.loadingController.create({message:"Please wait..."});yield e.present();const o=yield t.authService.register(t.credentials.value);yield e.dismiss(),o?(t.getNow(),t.functionsService.addUserData(o.user.uid,{Adress:"",email:t.credentials.value.email,favorite:[],image:"",lastVisit:t.date,notifications:[],opened:[],phone:"",status:"User",userName:t.credentials.value.name}),t.usersData.NamesEmails.push({Name:t.credentials.value.name,Email:t.credentials.value.email,ID:o.user.uid}),t.all.storageUserInfo={userName:t.credentials.value.name,email:t.credentials.value.email,uid:o.user.uid,status:"User"},t.storage.set("USER_Info",t.all.storageUserInfo),t.all.storageUserData={email:t.credentials.value.email,myFavorite:[],uid:o.user.uid,image:"",myNotifications:[],myOpened:[],status:"User",userName:t.credentials.value.name,favCount:0},t.storage.set("USER_Data",t.all.storageUserData),t.functionsService.createUsersData(t.usersData.NamesEmails),t.router.navigateByUrl("",{replaceUrl:!0}),t.all.login=!0):t.showAlert("Registration Faild","Please try again!")}})()}login(){var t=this;return(0,p.A)(function*(){if(t.credentials.value.name="",""===t.credentials.value.email)return t.showAlert("Login Faild","Please Enter User Name!"),!1;if(""===t.credentials.value.password)return t.showAlert("Login Faild","Please Enter Password!"),!1;const e=yield t.loadingController.create({message:"Please wait..."});yield e.present();const o=yield t.authService.login(t.credentials.value);let a;if(o){let s;t.all.login=!0,a=o.user.uid,t.functionsService.getUserData(a).subscribe(m=>{s=m,t.all.storageUserInfo={userName:m.userName,email:o.user.email,uid:o.user.uid,status:s.status},t.storage.set("USER_Info",t.all.storageUserInfo);let h=s.email,M=s.favorite,y=s.id,R=s.image,A=s.lastVisit,G=s.notifications,X=s.opened,x=s.status,T=s.userName,B=s.favorite.length;t.getNow(),t.date!==A&&t.lastVisit(a),("Super Admin"===x||"Admin"===x)&&t.functionsService.getData("usersData").subscribe(b=>{let f=[],P=[],v=b;if(t.all.coInfo=v.coInfo,P=v.NamesEmails,0!==P.length){for(let _=0;_<P.length;_++)t.functionsService.getUserData(P[_].ID).subscribe(C=>{f.push(C)});t.all.allUsers=f,t.storage.set("AllUsers",t.all.allUsers)}}),t.all.storageUserData={email:h,myFavorite:M,uid:y,image:R,myNotifications:G,myOpened:X,status:x,userName:T,favCount:B},t.storage.set("USER_Data",t.all.storageUserData),t.functionsService.getData("products").subscribe(b=>{let P=b.favorite,v=b.products,_=b.opened,C=[];for(const c of v){let D=!1;for(const V of M)c.id==V&&(D=!0);C.push({category:c.category,coverImg:c.coverImg,description:c.description,faved:D,created:c.created,favority:c.faved,id:c.id,price:c.price,name:c.name,productsImg:c.productsImg,tags:c.tags,videoImg:c.videoImg,opened:c.opened})}t.all.myProducts=C,t.all.storageProductsData={myProducts:C,favority:P,openCount:_},t.storage.set("products",t.all.storageProductsData),t.all.loaded=!0}),t.router.navigateByUrl("",{replaceUrl:!0})}),t.functionsService.getData("usersData").subscribe(m=>{t.all.coInfo=m.coInfo,t.storage.set("CoInfo",t.all.coInfo)}),yield e.dismiss()}else yield e.dismiss(),t.showAlert("Login Faild","Please try again!");return o})()}restPasswordModal(){this.isModalOpen=!0,this.myEmail=this.credentials.value.email}restPassword(){var t=this;return(0,p.A)(function*(){if(console.log(t.email.value),""===t.myEmail||null==t.myEmail)return t.showAlert("Reset Password Faild","Please Enter Your Email!"),!1;t.authService.restPassword(t.myEmail).then(()=>{}),t.toast("We have sent a password reset link to your email.",3e3),t.isModalOpen=!1})()}toast(t,e){var o=this;return(0,p.A)(function*(){let a=yield o.toastCtrl.create({message:t,duration:e,position:"bottom"});a.present(),yield a.onDidDismiss()})()}showAlert(t,e){var o=this;return(0,p.A)(function*(){yield(yield o.alertController.create({header:t,message:e,buttons:["OK"]})).present(),o.isModalOpen=!0})()}removeSignButton(){this.all.sizeDiv=!this.all.sizeDiv}getNow(){const t=new Date;t.setDate(t.getDate());const e=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");String(t.getHours()).padStart(2,"0"),String(t.getMinutes()).padStart(2,"0"),this.date=`${e}-${o}-${a}`}lastVisit(t){var e=this;return(0,p.A)(function*(){yield e.getNow(),e.functionsService.updateUserLastVisit(t,e.date)})()}}return(i=u).\u0275fac=function(t){return new(t||i)(n.rXU(r.ok),n.rXU(l.Xi),n.rXU(l.K_),n.rXU(l.hG),n.rXU(U.u),n.rXU(j.z),n.rXU(E.w),n.rXU(I.b),n.rXU(O.Ix))},i.\u0275cmp=n.VBU({type:i,selectors:[["app-login"]],decls:71,vars:7,consts:[[3,"fullscreen"],[1,"container",3,"ngClass"],[1,"form-container","sign-up-container"],[3,"formGroup"],[1,"inputs"],["lines","none"],["size","2",1,"ion-text-right"],["name","person-outline"],["size","1"],[1,"line"],["size","9"],["required","","formControlName","name","type","text","placeholder","User Name"],["name","mail-outline",1,"user-icon"],["required","","formControlName","email","type","email","placeholder","Email"],["name","lock-closed-outline",1,"user-icon"],["required","","formControlName","password","type","password","placeholder","Password"],["type","button",3,"click"],[1,"form-container","sign-in-container"],["formControlName","email","type","email","placeholder","Email"],["formControlName","password","type","password","placeholder","Password"],[1,"rst-pass","ion-text-right",3,"click"],["type","submit",3,"click"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel","overlay-left"],["fill","outline","color","light","id","signIn",1,"ghost",3,"click"],[1,"overlay-panel","overlay-right"],[3,"ionModalWillDismiss","isOpen"],[1,"ion-no-padding"],["size","3",1,"ion-text-right"],["color","light","fill","clear",3,"click"],["size","large","name","close-circle-outline",2,"margin-top","-10px"],["type","text","label","Your Email","placeholder","Email","fill","solid",3,"ngModelChange","ngModel"],["expand","block","fill","clear",3,"click"]],template:function(t,e){1&t&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"ion-item",5)(6,"ion-row")(7,"ion-col",6),n.nrm(8,"ion-icon",7),n.k0s(),n.j41(9,"ion-col",8),n.nrm(10,"div",9),n.k0s(),n.j41(11,"ion-col",10),n.nrm(12,"ion-input",11),n.k0s()()(),n.j41(13,"ion-item",5)(14,"ion-row")(15,"ion-col",6),n.nrm(16,"ion-icon",12),n.k0s(),n.j41(17,"ion-col",8),n.nrm(18,"div",9),n.k0s(),n.j41(19,"ion-col",10),n.nrm(20,"ion-input",13),n.k0s()()(),n.j41(21,"ion-item",5)(22,"ion-row")(23,"ion-col",6),n.nrm(24,"ion-icon",14),n.k0s(),n.j41(25,"ion-col",8),n.nrm(26,"div",9),n.k0s(),n.j41(27,"ion-col",10),n.nrm(28,"ion-input",15),n.k0s()()(),n.j41(29,"ion-button",16),n.bIt("click",function(){return e.register()}),n.EFF(30," Sign Up "),n.k0s()()()(),n.j41(31,"div",17)(32,"form",3)(33,"div",4)(34,"ion-item",5)(35,"ion-col",6),n.nrm(36,"ion-icon",12),n.k0s(),n.j41(37,"ion-col",8),n.nrm(38,"div",9),n.k0s(),n.j41(39,"ion-col",10),n.nrm(40,"ion-input",18),n.k0s()(),n.j41(41,"ion-item",5)(42,"ion-col",6),n.nrm(43,"ion-icon",14),n.k0s(),n.j41(44,"ion-col",8),n.nrm(45,"div",9),n.k0s(),n.j41(46,"ion-col",10),n.nrm(47,"ion-input",19),n.k0s()(),n.j41(48,"div",20),n.bIt("click",function(){return e.restPasswordModal()}),n.j41(49,"a"),n.EFF(50,"Reset Password"),n.k0s()(),n.j41(51,"ion-button",21),n.bIt("click",function(){return e.login()}),n.EFF(52," Login "),n.k0s()()()(),n.j41(53,"div",22)(54,"div",23)(55,"div",24)(56,"h1"),n.EFF(57,"Welcome Back"),n.k0s(),n.j41(58,"p"),n.EFF(59," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Nisi, assumenda. "),n.k0s(),n.j41(60,"ion-button",25),n.bIt("click",function(){return e.removeSignButton()}),n.EFF(61," Sign In "),n.k0s()(),n.j41(62,"div",26)(63,"h1"),n.EFF(64,"Hello, Friend!"),n.k0s(),n.j41(65,"p"),n.EFF(66," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Nisi, assumenda. "),n.k0s(),n.j41(67,"ion-button",25),n.bIt("click",function(){return e.removeSignButton()}),n.EFF(68," Sign Up "),n.k0s()()()()(),n.j41(69,"ion-modal",27),n.bIt("ionModalWillDismiss",function(){return e.isModalOpen=!1}),n.DNE(70,N,12,1,"ng-template"),n.k0s()()),2&t&&(n.Y8G("fullscreen",!0),n.R7$(),n.Y8G("ngClass",n.eq3(5,F,!0===e.all.sizeDiv)),n.R7$(2),n.Y8G("formGroup",e.credentials),n.R7$(29),n.Y8G("formGroup",e.credentials),n.R7$(37),n.Y8G("isOpen",e.isModalOpen))},dependencies:[w.YU,r.qT,r.BC,r.cb,r.YS,r.vS,l.Jm,l.hU,l.W9,l.iq,l.$w,l.uz,l.ln,l.BC,l.ai,l.Sb,l.Gw,r.j4,r.JD],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;background:#f6f5f7;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;margin:-20px 0 50px}h1[_ngcontent-%COMP%]{font-weight:700;margin:0}p[_ngcontent-%COMP%]{font-size:14px;font-weight:100;line-height:20px;letter-spacing:.5px;margin:20px 0 30px}span[_ngcontent-%COMP%]{font-size:12px}a[_ngcontent-%COMP%]{color:#333;font-size:14px;text-decoration:none;margin:15px 0}.line[_ngcontent-%COMP%]{width:1px;background-color:#333;height:25px;margin-top:10px}.container[_ngcontent-%COMP%]{background:#fff;border:10px;border-radius:20px;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038;position:relative;overflow:hidden;width:768px;max-width:100%;min-height:480px;margin:auto;margin-top:10vh}.container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:1;opacity:0}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background:#fff;display:flex;flex-direction:column;padding:0 50px;height:100%;justify-content:center;align-items:center;text-align:center}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{height:230px;width:110%}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:15px}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background-color:#e8f1ff;padding:0 10px!important;border-radius:5px}.container[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:250px;--border-radius: 50px;--background: var(--primary-shade);color:#fff;margin-top:50px}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background:#fff;display:flex;flex-direction:column;padding:0 50px;height:100%;justify-content:center;align-items:center;text-align:center}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{height:230px;width:110%}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:5px}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin-top:3px}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background-color:#e8f1ff;padding:0 10px!important;border-radius:5px}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .rst-pass[_ngcontent-%COMP%]{margin-top:0;margin-bottom:85px;margin-right:21px;font-size:10px}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .rst-pass[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px;color:#00378a}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .rst-pass[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.container[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:250px;--border-radius: 50px;--background: var(--primary-shade);color:#fff}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:transform .6s ease-in-out}.overlay-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background:#ff416c;background:linear-gradient(to right,var(--primary-shade),var(--primary)) no-repeat 0 0/cover;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:transform .6s ease-in-out}.overlay-panel[_ngcontent-%COMP%]{position:absolute;top:0;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0 40px;height:100%;width:50%;text-align:center;transform:translate(0);transition:transform .6s ease-in-out}.overlay-panel[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:250px;--border-radius: 50px;--background: var(--primary-shade);color:#fff}.overlay-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.overlay-left[_ngcontent-%COMP%]{transform:translate(-20%)}.container.right-panel-active[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]{transform:translate(100%)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{transform:translate(-100%)}.container.right-panel-active[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5}.container.right-panel-active[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{transform:translate(50%)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-left[_ngcontent-%COMP%]{transform:translate(0)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-right[_ngcontent-%COMP%]{transform:translate(20%)}ion-modal[_ngcontent-%COMP%]{--width: 25%;--height: 230px;padding-left:200px;--border-radius: 16px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--background-color: #856161}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: var(--secondary-shade);height:40px;--color: white}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{margin-top:0}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:18px;margin-top:-3px}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:160px}ion-modal[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{margin:40px auto auto;width:80%;--padding-start: 10px;--background: #e2e2e2;--border-radius: 15px}ion-modal[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:20px;text-transform:capitalize;text-decoration-line:underline}"]}),u})()}];let L=(()=>{var i;class u{}return(i=u).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[O.iI.forChild(S),O.iI]}),u})(),z=(()=>{var i;class u{}return(i=u).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[w.MD,r.YN,l.bv,r.X1,L]}),u})()}}]);